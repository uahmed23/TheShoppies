(this.webpackJsonpthe_shoppies=this.webpackJsonpthe_shoppies||[]).push([[0],{63:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var i=n(1),c=n.n(i),a=n(32),s=n.n(a),r=n(10),o=n(18),l=n.n(o),j=n(21),u=n(33),m=n(8),b=n(34),h=n.n(b),d=n(11),O=n.n(d),x=n(0),f=c.a.createContext();function v(e){var t=e.children,n=Object(i.useState)([]),c=Object(m.a)(n,2),a=c[0],s=c[1],r=Object(i.useState)([]),o=Object(m.a)(r,2),b=o[0],d=o[1],v=Object(i.useState)(0),g=Object(m.a)(v,2),p=g[0],N=g[1],S=Object(i.useState)(""),C=Object(m.a)(S,2),k=C[0],M=C[1];function w(){return(w=Object(u.a)(l.a.mark((function e(t,n){var i,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://www.omdbapi.com/?apikey=5209986e&s=".concat(t,"&page=").concat(n,"&type=movie"));case 2:i=e.sent,c=i.data.Search?i.data.Search:[],a=i.data.totalResults?i.data.totalResults:0,N(a),d(c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.useEffect)((function(){O.a.get("nominations")||O.a.set("nominations",[]);var e=O.a.get("nominations");s(e)}),[]),Object(x.jsx)(f.Provider,{value:{nominations:a,addToNominations:function(e){var t=[].concat(Object(j.a)(a),[e]);O.a.set("nominations",t),s((function(t){return[].concat(Object(j.a)(t),[e])}))},removeFromNominations:function(e){var t=a.filter((function(t){return t.imdbID!==e}));O.a.set("nominations",t),s((function(t){return t.filter((function(t){return t.imdbID!==e}))}))},movies:b,totalResults:p,fetchMovies:function(e,t){return w.apply(this,arguments)},searchString:k,setSearchString:M},children:t})}n(63);var g=n(2);var p=function(){var e=Object(i.useContext)(f).nominations.length>0?"ri-star-fill":"ri-star-line";return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("header",{children:[Object(x.jsx)(r.b,{to:"/",children:Object(x.jsx)("h2",{children:"The Shoppies"})}),Object(x.jsx)(r.b,{to:"/nominations",children:Object(x.jsxs)("div",{className:"star-page",children:[Object(x.jsx)("h3",{children:"My Nominations"}),Object(x.jsx)("i",{className:"".concat(e," header-star ri-fw ri-2x")})]})})]})})};var N=function(e){var t=e.movie,n=Object(i.useState)(!1),c=Object(m.a)(n,2),a=c[0],s=c[1],r=Object(i.useContext)(f).removeFromNominations,o=a?"ri-delete-bin-fill remove":"ri-delete-bin-line remove";return Object(x.jsx)("main",{className:"nominees",children:Object(x.jsxs)("div",{className:"small image-container",children:[Object(x.jsx)("i",{className:o,onClick:function(){return r(t.imdbID)},onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)}}),Object(x.jsxs)("h5",{children:[" ","".concat(t.Title," ( ").concat(t.Year," )")]}),Object(x.jsx)("img",{alt:"".concat(t.Title," ( ").concat(t.Year," )"),src:t.Poster,className:"nominee-img-grid"})]})})};var S=function(){var e=Object(i.useContext)(f).nominations,t=e.map((function(e){return Object(x.jsx)(N,{movie:e},e.imdbID)}));return Object(x.jsxs)("main",{className:"nominee-page",children:[Object(x.jsx)("div",{className:"nomination-page-title",children:Object(x.jsx)("h1",{children:"Nomination List"})}),e?t:null,e.length>0?null:Object(x.jsx)("p",{children:"You have not nominated any movies yet."})]})};var C=function(e){var t=e.movie,n=Object(i.useState)(!1),c=Object(m.a)(n,2),a=c[0],s=c[1],r=Object(i.useContext)(f),o=r.addToNominations,l=r.nominations,j=r.removeFromNominations;return Object(x.jsxs)("div",{className:"big image-container",onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},children:[Object(x.jsx)("h5",{children:"".concat(t.Title," ( ").concat(t.Year," )")}),Object(x.jsx)("img",{alt:"".concat(t.Title," ( ").concat(t.Year," )"),src:t.Poster,className:"image-grid"}),l.some((function(e){return e.imdbID===t.imdbID}))?Object(x.jsx)("i",{className:"ri-star-fill star",onClick:function(){return j(t.imdbID)}}):a&&l.length<5?Object(x.jsx)("i",{className:"ri-star-line star",onClick:function(){return o(t)}}):a&&l.length>4?Object(x.jsx)("i",{className:"ri-alert-fill full"}):void 0]})},k=n(36),M=n.n(k);var w=function(){var e=Object(i.useContext)(f),t=e.movies,n=e.fetchMovies,c=e.totalResults,a=e.nominations,s=e.searchString,r=e.setSearchString,o=Object(i.useState)(1),l=Object(m.a)(o,2),j=l[0],u=l[1],b=Object(i.useCallback)(M.a.debounce((function(e){return n(e,j)}),500),[]),h=t.map((function(e,t){return Object(x.jsx)(C,{movie:e},t)}));return console.log(t),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"pageInfo",children:[Object(x.jsxs)("p",{children:["page ",j," out of ",Math.floor(c/10)+1]}),Object(x.jsx)("a",{href:"#",onClick:function(){j>1&&(n(s,j-1),u((function(e){return e-1})))},className:"previous",children:"\u2039"}),Object(x.jsx)("a",{href:"#",onClick:function(){j<Math.floor(c/10)+1&&(n(s,j+1),u((function(e){return e+1})))},className:"next",children:"\u203a"})]}),Object(x.jsxs)("div",{className:"search-container",children:[Object(x.jsx)("input",{label:"Movie Title...",value:s,placeholder:"Search movie title...",onChange:function(e){u(1),r(e.target.value),b(e.target.value)}}),Object(x.jsxs)("div",{className:"message",style:{height:"40px",width:"95%",textAlign:"center"},children:[t&&t.length>0&&a&&a.length<5?Object(x.jsxs)("h4",{children:["Click ",Object(x.jsx)("i",{className:"ri-star-line banner-star"})," on a poster to nominate a movie"]}):null,a&&a.length>4?Object(x.jsxs)("h4",{children:[Object(x.jsx)("i",{className:"ri-alert-line banner-full"})," nomination limit reached (5 nominees max.)"]}):null]})]}),Object(x.jsx)("main",{className:"movies",children:!t||t.length<1?Object(x.jsx)("h3",{children:"   No matching movie title found"}):h})]})};var y=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(p,{}),Object(x.jsxs)(g.c,{children:[Object(x.jsx)(g.a,{exact:!0,path:"/",children:Object(x.jsx)(w,{})}),Object(x.jsx)(g.a,{path:"/nominations",children:Object(x.jsx)(S,{})})]})]})};s.a.render(Object(x.jsx)(v,{children:Object(x.jsx)(r.a,{children:Object(x.jsx)(y,{})})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.c06167f7.chunk.js.map