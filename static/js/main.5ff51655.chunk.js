(this.webpackJsonpthe_shoppies=this.webpackJsonpthe_shoppies||[]).push([[0],{63:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),a=n(32),s=n.n(a),r=n(10),o=n(18),j=n.n(o),l=n(21),u=n(33),m=n(8),b=n(34),h=n.n(b),d=n(11),O=n.n(d),x=n(1),v=i.a.createContext();function f(e){var t=e.children,n=Object(c.useState)([]),i=Object(m.a)(n,2),a=i[0],s=i[1],r=Object(c.useState)([]),o=Object(m.a)(r,2),b=o[0],d=o[1],f=Object(c.useState)(0),p=Object(m.a)(f,2),g=p[0],N=p[1],S=Object(c.useState)(""),C=Object(m.a)(S,2),k=C[0],w=C[1];function y(){return(y=Object(u.a)(j.a.mark((function e(t,n){var c,i,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("http://www.omdbapi.com/?apikey=5209986e&s=".concat(t,"&page=").concat(n,"&type=movie"));case 2:c=e.sent,i=c.data.Search?c.data.Search:[],a=c.data.totalResults?c.data.totalResults:0,N(a),d(i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){O.a.get("nominations")||O.a.set("nominations",[]);var e=O.a.get("nominations");s(e)}),[]),Object(x.jsx)(v.Provider,{value:{nominations:a,addToNominations:function(e){var t=[].concat(Object(l.a)(a),[e]);O.a.set("nominations",t),s((function(t){return[].concat(Object(l.a)(t),[e])}))},removeFromNominations:function(e){var t=a.filter((function(t){return t.imdbID!==e}));O.a.set("nominations",t),s((function(t){return t.filter((function(t){return t.imdbID!==e}))}))},movies:b,totalResults:g,fetchMovies:function(e,t){return y.apply(this,arguments)},searchString:k,setSearchString:w},children:t})}n(63);var p=n(2);var g=function(){var e=Object(c.useContext)(v).nominations.length>0?"ri-star-fill":"ri-star-line";return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("header",{children:[Object(x.jsx)(r.b,{to:"/",children:Object(x.jsx)("h2",{children:"The Shoppies"})}),Object(x.jsx)(r.b,{to:"/nominations",children:Object(x.jsxs)("div",{className:"star-page",children:[Object(x.jsx)("h3",{children:"My Nominations"}),Object(x.jsx)("i",{className:"".concat(e," header-star ri-fw ri-2x")})]})})]})})};var N=function(e){var t=e.movie,n=Object(c.useState)(!1),i=Object(m.a)(n,2),a=i[0],s=i[1],r=Object(c.useContext)(v).removeFromNominations,o=a?"ri-delete-bin-fill remove":"ri-delete-bin-line remove";return Object(x.jsx)("main",{className:"nominees",children:Object(x.jsxs)("div",{className:"small image-container",children:[Object(x.jsx)("i",{className:o,onClick:function(){return r(t.imdbID)},onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)}}),Object(x.jsxs)("h5",{children:[" ","".concat(t.Title," ( ").concat(t.Year," )")]}),Object(x.jsx)("img",{alt:"".concat(t.Title," ( ").concat(t.Year," )"),src:t.Poster,className:"nominee-img-grid"})]})})};var S=function(){var e=Object(c.useContext)(v).nominations,t=e.map((function(e){return Object(x.jsx)(N,{movie:e},e.imdbID)}));return Object(x.jsxs)("main",{className:"nominee-page",children:[Object(x.jsx)("div",{className:"nomination-page-title",children:Object(x.jsx)("h1",{children:"Nomination List"})}),e?t:null,e.length>0?null:Object(x.jsx)("p",{children:"You have not nominated any movies yet."})]})};var C=function(e){var t=e.movie,n=Object(c.useState)(!1),i=Object(m.a)(n,2),a=i[0],s=i[1],r=Object(c.useContext)(v),o=r.addToNominations,j=r.nominations,l=r.removeFromNominations;return Object(x.jsxs)("div",{className:"big image-container",onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},children:[Object(x.jsx)("h5",{children:"".concat(t.Title," ( ").concat(t.Year," )")}),Object(x.jsx)("img",{alt:"".concat(t.Title," ( ").concat(t.Year," )"),src:t.Poster,className:"image-grid"}),j.some((function(e){return e.imdbID===t.imdbID}))?Object(x.jsx)("i",{className:"ri-star-fill star",onClick:function(){return l(t.imdbID)}}):a&&j.length<5?Object(x.jsx)("i",{className:"ri-star-line star",onClick:function(){return o(t)}}):a&&j.length>4?Object(x.jsx)("i",{className:"ri-alert-fill full"}):void 0]})},k=n(36),w=n.n(k);var y=function(){var e=Object(c.useContext)(v),t=e.movies,n=e.fetchMovies,i=(e.totalResults,e.nominations,e.searchString,e.setSearchString,Object(c.useState)(1)),a=Object(m.a)(i,2),s=a[0],r=(a[1],Object(c.useCallback)(w.a.debounce((function(e){return n(e,s)}),500),[]),t.map((function(e,t){return Object(x.jsx)(C,{movie:e},t)})));return console.log(t),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("main",{className:"movies",children:!t||t.length<1?Object(x.jsx)("h3",{children:"   No matching movie title found"}):r})})};var I=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(g,{}),Object(x.jsxs)(p.c,{children:[Object(x.jsx)(p.a,{exact:!0,path:"/",children:Object(x.jsx)(y,{})}),Object(x.jsx)(p.a,{path:"/nominations",children:Object(x.jsx)(S,{})})]})]})};s.a.render(Object(x.jsx)(f,{children:Object(x.jsx)(r.a,{children:Object(x.jsx)(I,{})})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.5ff51655.chunk.js.map